<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="tethered, UK hardcore punk band from London"
    />
    <title>tethered</title>
    <link defer rel="stylesheet" href="tthrd.css" />
    <style id="dynamic-carousel-styles"></style>
  </head>
  <body>
    <nav class="retro-nav">
      <div class="nav-container">
        <div class="logo">
          <span class="logo-text">tethered</span>
          <span class="logo-year">X0s</span>
        </div>
        <ul class="nav-menu">
          <li><a href="#music" aria-label="Music menu entrypoint">Music</a></li>
          <li><a href="#shows" aria-label="Shows menu entrypoint">Shows</a></li>
          <li>
            <a href="#archive" aria-label="Archive menu entrypoint">Archive</a>
          </li>
          <li><a href="#info" aria-label="Info menu entrypoint">Info</a></li>
        </ul>
      </div>
    </nav>

    <section class="hero">
      <div class="hero-overlay">
        <div class="hero-content content-home" id="home">
          <div class="corner-decoration top-left"></div>
          <div class="corner-decoration top-right"></div>
          <div class="corner-decoration bottom-left"></div>
          <div class="corner-decoration bottom-right"></div>

          <h1 class="hero-title">
            <span class="title-line">WELCOME TO</span>
            <span class="title-main">THE TETHERED ZONE</span>
          </h1>

          <p class="hero-subtitle">★ Est. Summer 2022 ★ London cyberspace ★</p>

          <div class="status-badge">
            <span class="blink">● ONLINE NOW</span>
          </div>

          <div class="hero-buttons">
            <a href="#info" class="retro-button">ENTER SITE</a>
            <a href="#music" class="retro-button secondary">PLAY MUSIC</a>
          </div>
        </div>

        <div class="hero-content content-music" id="music">
          <div class="corner-decoration top-left"></div>
          <div class="corner-decoration top-right"></div>
          <div class="corner-decoration bottom-left"></div>
          <div class="corner-decoration bottom-right"></div>

          <h1 class="hero-title">
            <span class="title-line">♪ MUSIC ♪</span>
            <span class="title-main">AUDIO ZONE</span>
          </h1>

          <div class="content-section">
            <p class="section-text">
              Welcome to the music section! Here you'll find all the latest
              tracks and playlists.
            </p>
            <!-- Wrapped iframe in bandcamp-player container for centering and styling -->
            <div class="bandcamp-player">
              <iframe
                style="border: 0; width: 350px; height: 470px"
                src="https://bandcamp.com/EmbeddedPlayer/album=3281838073/size=large/bgcol=333333/linkcol=4ec5ec/tracklist=false/transparent=true/"
                seamless
                ><a href="https://tether-ed.bandcamp.com/album/tethered"
                  >tethered by tethered</a
                ></iframe
              >
            </div>
            <div class="status-badge">
              <span class="blink">♫ PLAYING NOW</span>
            </div>
          </div>
        </div>

        <div class="hero-content content-shows" id="shows">
          <div class="corner-decoration top-left"></div>
          <div class="corner-decoration top-right"></div>
          <div class="corner-decoration bottom-left"></div>
          <div class="corner-decoration bottom-right"></div>

          <h1 class="hero-title">
            <span class="title-line">PERFORMANCE GALLERY</span>
            <span class="title-main">FUTURE ENDEAVORS</span>
          </h1>

          <div class="content-section">
            <p class="section-text">
              Check out our list of unsolicited acoustic and visual
              arrangements!
            </p>
            <!-- Wrapped future-shows in carousel container with navigation like past-shows -->
            <div class="carousel-container">
              <div id="future-carousel-controls"></div>
              <div id="future-shows" class="carousel-track"></div>
              <div class="carousel-nav">
                <label
                  for="future-slide-prev"
                  class="carousel-arrow carousel-arrow-left"
                  >◄</label
                >
                <!-- Replaced dots container with numbers indicator -->
                <div
                  id="future-carousel-indicator"
                  class="carousel-indicator"
                ></div>
                <label
                  for="future-slide-next"
                  class="carousel-arrow carousel-arrow-right"
                  >►</label
                >
              </div>
            </div>
            <p class="section-text" style="margin-top: 20px">
              <span class="blink">★</span> Future to come!
              <span class="blink">★</span>
            </p>
          </div>
        </div>

        <div class="hero-content content-archive" id="archive">
          <div class="corner-decoration top-left"></div>
          <div class="corner-decoration top-right"></div>
          <div class="corner-decoration bottom-left"></div>
          <div class="corner-decoration bottom-right"></div>

          <h1 class="hero-title">
            <span class="title-line">PERFORMANCE GALLERY</span>
            <span class="title-main">HISTORIC ARCHIVE</span>
          </h1>

          <div class="content-section">
            <p class="section-text">
              Browse through past ephimereal acoustic developments!
            </p>
            <!-- Wrapped past-shows in carousel container with navigation -->
            <div class="carousel-container">
              <div id="carousel-controls"></div>
              <div id="past-shows" class="carousel-track"></div>
              <div class="carousel-nav">
                <label
                  for="slide-prev"
                  class="carousel-arrow carousel-arrow-left"
                  >◄</label
                >
                <!-- Replaced dots container with numbers indicator -->
                <div id="carousel-indicator" class="carousel-indicator"></div>
                <label
                  for="slide-next"
                  class="carousel-arrow carousel-arrow-right"
                  >►</label
                >
              </div>
            </div>
            <p class="section-text" style="margin-top: 20px">
              <span class="blink">★</span> Remember you are dust!
              <span class="blink">★</span>
            </p>
          </div>
        </div>

        <div class="hero-content content-info" id="info">
          <div class="corner-decoration top-left"></div>
          <div class="corner-decoration top-right"></div>
          <div class="corner-decoration bottom-left"></div>
          <div class="corner-decoration bottom-right"></div>

          <h1 class="hero-title">
            <span class="title-line">INFORMATION</span>
            <span class="title-main">ABOUT US</span>
          </h1>

          <div class="content-section">
            <p class="section-text">
              Welcome to the Tethered Zone, your ultimate destination for all
              things 80s and 90s!
            </p>
            <p class="section-text">
              This site was built using cutting-edge HTML technology and is best
              viewed in Netscape Navigator 4.0 or higher at 800x600 resolution.
            </p>
            <div class="info-box">
              <p><strong>Tethered Stats:</strong></p>
              <p>✓ Humans: andy, james, pablo and rose</p>
              <p>
                ✓ Tribe: part of the
                <a
                  target="blank"
                  href="https://extinction-burst.com/"
                  aria-label="External link to Extinction Burst records website"
                  >extinction burst</a
                >
                family
              </p>
              <p>
                ✓ Past bands:
                <a
                  target="blank"
                  href="https://enochardon.bandcamp.com/"
                  aria-label="External link to Enoch Ardon's bandcamp"
                  >Enoch Ardon</a
                >,
                <a
                  target="blank"
                  href="https://whatpricewonderland.bandcamp.com/"
                  aria-label="External link to What Price, Wonderland? bandcamp"
                  >What Price, Wonderland?</a
                >,
                <a
                  target="blank"
                  href="https://existencia.bandcamp.com/album/ciudad-del-cabo-s-t-7"
                  aria-label="External link to Ciudad del Cabo bandcamp"
                  >Ciudad del Cabo</a
                >,
                <a
                  target="blank"
                  href="https://birdcalls.bandcamp.com/"
                  aria-label="External link to Bird Calls bandcamp"
                  >Bird Calls</a
                >,
                <a
                  target="blank"
                  href="https://arkless.bandcamp.com/"
                  aria-label="External link to Arkless bandcamp"
                  >Arkless</a
                >, and many more...
              </p>
              <p>✓ Language: 4tethered [@] gmail [.] com</p>
              <p>✓ Webmaster: @tethered/android:3.14</p>
            </div>
            <div class="info-box">
              <p><strong>Our work:</strong></p>
              <p>
                ✓ R.Whittaker Tattoo:
                <a
                  target="blank"
                  href="https://www.rwhittaker.com/"
                  aria-label="External link to R. Whittaker shop"
                  >shop</a
                >
                |
                <a
                  target="blank"
                  href="https://www.instagram.com/rwhittakertattoo/"
                  aria-label="External link to R. Whittaker Instagram"
                  >instagram</a
                >
              </p>
              <p>
                ✓ Andy Hemming design:
                <a
                  target="blank"
                  href="https://www.andyhemming.com/"
                  aria-label="External link to Andy Hemming design website"
                  >website</a
                >
              </p>
              <p>
                ✓ Controller / Revolt zine:
                <a
                  target="blank"
                  href="https://controllerrevoltzine.bigcartel.com/"
                  aria-label="External link to Controller / Revolt zine shop"
                  >shop</a
                >
                |
                <a
                  target="blank"
                  href="https://www.instagram.com/controllerrevoltzine/"
                  aria-label="External link to Controller / Revolt zine Instagram"
                  >instagram</a
                >
              </p>
              <p>
                ✓ Existencia record label:
                <a
                  target="blank"
                  href="https://aexistencia.com"
                  aria-label="External link to Existencia record label website"
                  >website</a
                >
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="retro-footer">
      <div class="footer-content">
        <div class="footer-badges">
          <a
            target="_blank"
            href="https://tether-ed.bandcamp.com/"
            aria-label="Link to visit Tethered bandcamp"
          >
            <svg
              class="badge-svg"
              viewBox="0 0 88 88"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                width="88"
                height="88"
                fill="#000000"
                stroke="#58b6d0"
                stroke-width="3"
              />
              <path d="M20 55 L35 33 L68 33 L53 55 Z" fill="#58b6d0" />
            </svg>
          </a>

          <a
            target="_blank"
            href="https://www.youtube.com/@tetheredhc"
            aria-label="Link to visit Tethered Youtube page"
          >
            <svg
              class="badge-svg"
              viewBox="0 0 88 88"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                width="88"
                height="88"
                fill="#000000"
                stroke="#58b6d0"
                stroke-width="3"
              />
              <path
                d="M44 28 C54 28 62 29 62 29 C62 29 64 30 64 36 L64 52 C64 58 62 59 62 59 C62 59 54 60 44 60 C34 60 26 59 26 59 C26 59 24 58 24 52 L24 36 C24 30 26 29 26 29 C26 29 34 28 44 28 Z"
                fill="#58b6d0"
              />
              <path d="M38 38 L38 50 L52 44 Z" fill="#000000" />
            </svg>
          </a>

          <a
            target="_blank"
            href="https://www.instagram.com/tetheredhc/"
            aria-label="Link to visit Tethered Instagram page"
          >
            <svg
              class="badge-svg"
              viewBox="0 0 88 88"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                width="88"
                height="88"
                fill="#000000"
                stroke="#58b6d0"
                stroke-width="3"
              />
              <rect
                x="24"
                y="24"
                width="40"
                height="40"
                rx="8"
                fill="none"
                stroke="#58b6d0"
                stroke-width="3"
              />
              <circle
                cx="44"
                cy="44"
                r="10"
                fill="none"
                stroke="#58b6d0"
                stroke-width="3"
              />
              <circle cx="57" cy="31" r="2.5" fill="#58b6d0" />
            </svg>
          </a>

          <a
            target="_blank"
            href="https://linktr.ee/tetheredhc"
            aria-label="Link to Tethered Linktree page"
          >
            <svg
              class="badge-svg"
              viewBox="0 0 88 88"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                width="88"
                height="88"
                fill="#000000"
                stroke="#58b6d0"
                stroke-width="3"
              />
              <!-- Tree trunk -->
              <rect x="40" y="50" width="8" height="18" fill="#58b6d0" />
              <!-- Tree branches/links -->
              <rect x="30" y="42" width="28" height="4" fill="#58b6d0" />
              <rect x="34" y="34" width="20" height="4" fill="#58b6d0" />
              <rect x="38" y="26" width="12" height="4" fill="#58b6d0" />
            </svg>
          </a>
        </div>
        <p class="footer-text">
          © 2022-2025 tethered | Last Updated:
          <span id="current-date"></span>
        </p>
        <p class="visitor-counter">
          You are visitor #<span class="counter-number"></span>
        </p>
      </div>
    </footer>
    <script type="module">
      import { pastShows, futureShows } from './data.js';
      document.addEventListener('DOMContentLoaded', function () {
        generateCarouselCSS(pastShows.length, 'slide');
        generateCarouselCSS(futureShows.length, 'future-slide');

        renderShows('past-shows', pastShows, 'slide');
        renderShows('future-shows', futureShows, 'future-slide');
        initCarousel(
          pastShows.length,
          'slide',
          'carousel-indicator',
          'carousel-controls'
        );
        initCarousel(
          futureShows.length,
          'future-slide',
          'future-carousel-indicator',
          'future-carousel-controls'
        );
      });

      function generateCarouselCSS(totalSlides, radioPrefix) {
        const styleElement = document.getElementById('dynamic-carousel-styles');
        let css = '';

        // Generate display rules for each slide
        const displayRules = [];
        for (let i = 1; i <= totalSlides; i++) {
          displayRules.push(
            `.carousel-track input[type="radio"][id="${radioPrefix}-${i - 1}"]:checked ~ .carousel-slide:nth-of-type(${i})`
          );
        }
        css += displayRules.join(',\n') + ' {\n  display: block;\n}\n\n';

        styleElement.textContent += css;
      }

      function renderShows(containerId, shows, radioPrefix) {
        const container = document.getElementById(containerId);

        if (shows.length === 0) {
          container.innerHTML = `
                    <div class="empty-state">
                        No shows to display
                    </div>
                `;
          return;
        }

        const slidesHTML = shows
          .map(
            (show, index) => `
            <input type="radio" name="${radioPrefix}-carousel" id="${radioPrefix}-${index}" ${index === 0 ? 'checked' : ''} class="carousel-radio" />
            <div class="carousel-slide">
              <div class="gallery-item">
                <div class="placeholder-box">
                  <div style="padding: 20px; text-align: center;">
                    <div style="font-size: 18px; margin-bottom: 10px;">${show.date}</div>
                    <div style="font-size: 16px; margin-bottom: 5px;">${show.venue}</div>
                    <div style="font-size: 14px; margin-bottom: 10px;">${show.city}, ${show.country}</div>
                    <div style="font-size: 14px; color: #008b8b;">${show.lineUp.join(' / ')}</div>
                  </div>
                </div>
                ${
                  show.setList?.length
                    ? `
                    <div class="setlist">
                        <div class="setlist-title">Setlist:</div>
                        <div class="songs-list">
                            ${show.setList
                              .map(
                                (song, idx) => `
                                <div class="song-item ${song.includes('[') ? 'cover-song' : ''}">
                                    ${idx + 1}. ${song}
                                </div>
                            `
                              )
                              .join('')}
                        </div>
                    </div>
                    `
                    : ''
                }
              </div>
            </div>
            `
          )
          .join('');

        container.innerHTML = slidesHTML;
      }

      function initCarousel(
        totalSlides,
        radioPrefix,
        indicatorContainerId,
        controlsContainerId
      ) {
        const indicatorContainer =
          document.getElementById(indicatorContainerId);
        indicatorContainer.textContent = '1 / ' + totalSlides;
        indicatorContainer.setAttribute('data-total', totalSlides);
        indicatorContainer.setAttribute('data-current', '1');

        const controlsContainer = document.getElementById(controlsContainerId);
        controlsContainer.innerHTML = `
          <input type="button" id="${radioPrefix}-prev" class="carousel-control" />
          <input type="button" id="${radioPrefix}-next" class="carousel-control" />
        `;

        let currentSlide = 0;
        document
          .getElementById(`${radioPrefix}-prev`)
          .addEventListener('click', function () {
            currentSlide =
              currentSlide > 0 ? currentSlide - 1 : totalSlides - 1;
            document.getElementById(`${radioPrefix}-${currentSlide}`).checked =
              true;
            updateIndicator(
              indicatorContainerId,
              currentSlide + 1,
              totalSlides
            );
          });

        document
          .getElementById(`${radioPrefix}-next`)
          .addEventListener('click', function () {
            currentSlide = (currentSlide + 1) % totalSlides;
            document.getElementById(`${radioPrefix}-${currentSlide}`).checked =
              true;
            updateIndicator(
              indicatorContainerId,
              currentSlide + 1,
              totalSlides
            );
          });
      }

      function updateIndicator(indicatorId, currentSlide, totalSlides) {
        const indicator = document.getElementById(indicatorId);
        indicator.textContent = currentSlide + ' / ' + totalSlides;
        indicator.setAttribute('data-current', currentSlide);
      }
    </script>
    <script>
      const dateElement = document.getElementById('current-date');
      const today = new Date();
      const dateString = today.toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
      });
      dateElement.textContent = dateString;

      const [counterElement] =
        document.getElementsByClassName('counter-number');
      counterElement.textContent = crypto.randomUUID();
    </script>
  </body>
</html>
